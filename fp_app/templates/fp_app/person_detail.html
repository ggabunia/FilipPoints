{% extends "base.html" %}



{% block content %}
<div class="row">
    <div class="col-lg-12">
        <dl class="dl-horizontal">
            <dt>Name</dt>
            <dd>{{object.first_name}}</dd>
            <dt>Surname</dt>
            <dd>{{object.last_name}}</dd>
            <dt>Last Updated</dt>
            <dd>{{object.last_update|date:'Y-m-d H:i'}}</dd>
            <dt>Points</dt>
            <dd>{{object.points}}</dd>
        </dl>
        {% if user.is_authenticated %}
            <p>
              <a class="btn btn-success" href="{% url 'manager:add_points' pk=object.pk %}">Add Points</a>
              <a class="btn btn-warning" href="{% url 'manager:edit' pk=object.pk %}">Edit</a>
                <a class="btn btn-danger" href="{% url 'manager:delete' pk=object.pk %}">Delete</a>
            </p>
        {% endif %}

    </div>
</div>
{% if object.points_history.all %}
<table class="table table-bordered table-striped">
    <thead>
      <tr>
        <th>
            Date
        </th>
        <th>
        Amount
      </th>
      <th>
      Description
    </th>
    {% if user.is_authenticated %}
        <th></th>
    {% endif %}

      </tr>
    </thead>
    <tbody>
      {% for item in object.points_history.all %}
      <tr>
        <td>
            {{item.date|date:'Y-m-d H:i'}}
        </td>
        <td>
            {{item.awarded_points}} Points
        </td>
        <td>
            {{item.description}}
        </td>
        {% if user.is_authenticated %}
          <td>
              <a href="{% url 'manager:remove_points' pk=item.pk %}" class="btn btn-danger">Remove</a>
          </td>
        {% endif %}
      </tr>
      {% endfor %}
    </tbody>
</table>

{% endif %}
{% endblock content %}
